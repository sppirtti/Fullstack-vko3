(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},19:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(2),u=t(0),l=t.n(u),r=t(13),c=t.n(r),o=function(e){return l.a.createElement("form",{onSubmit:e.morePeople},l.a.createElement("div",null,l.a.createElement("p",null,"name: ",l.a.createElement("input",{value:e.newName,onChange:e.handleNewName})),l.a.createElement("p",null,"number: ",l.a.createElement("input",{value:e.newNumber,onChange:e.handleNewNumber})),l.a.createElement("button",{type:"submit"},"add")))},i=function(e){return l.a.createElement("div",null,"filter shown with ",l.a.createElement("input",{value:e.newFilter,onChange:e.handleFilter}))},m=function(e){return l.a.createElement("div",null,l.a.createElement("p",null,e.name," ",e.number,l.a.createElement("button",{onClick:e.removePerson},"Delete ")))},s=function(e){return l.a.createElement("div",null,e.namesToShow.map((function(n){return l.a.createElement(m,{key:n.name,name:n.name,id:n.id,number:n.number,removePerson:function(){return e.removePerson(n)}})})))},d=(t(19),t(3)),f=t.n(d),b="/api/persons",h=function(){return f.a.get(b)},p=h,E=function(e){return f.a.post(b,e)},v=function(e,n){return f.a.put("".concat(b,"/").concat(e),n)},w=function(e){return f.a.delete("".concat(b,"/").concat(e)),h()},N=function(){var e=Object(u.useState)([]),n=Object(a.a)(e,2),t=n[0],r=n[1],c=Object(u.useState)(""),m=Object(a.a)(c,2),d=m[0],f=m[1],b=Object(u.useState)(""),h=Object(a.a)(b,2),N=h[0],O=h[1],S=Object(u.useState)(""),g=Object(a.a)(S,2),P=g[0],T=g[1],y=Object(u.useState)(!1),C=Object(a.a)(y,1)[0],k=Object(u.useState)(null),F=Object(a.a)(k,2),D=F[0],A=F[1],J=Object(u.useState)(null),L=Object(a.a)(J,2),U=L[0],x=L[1];Object(u.useEffect)((function(){p().then((function(e){r(e.data)}))}),[]);var B=C?t:t.filter((function(e){return e.name.toLowerCase().includes(P.toLowerCase())}));return l.a.createElement("div",null,l.a.createElement("h1",null,"Phonebook"),l.a.createElement(j,{message:D,className:U}),l.a.createElement(i,{newFilter:P,handleFilter:function(e){T(e.target.value)}}),l.a.createElement("h2",null,"Add A New Number"),l.a.createElement(o,{newName:d,handleNewName:function(e){f(e.target.value)},newNumber:N,handleNewNumber:function(e){O(e.target.value)},morePeople:function(e){e.preventDefault();var n={name:d,number:N};if(t.some((function(e){return e.name===n.name}))){if(window.confirm("Update number for ".concat(d," ? "))){var a=t.find((function(e){return e.name===d}));v(a.id,n).then((function(e){r(t.map((function(n){return n.id!==a.id?n:e.data}))),f(""),O(""),A("Updated Succesfully!"),x("added"),setTimeout((function(){A(null),x(null)}),5e3)})).catch((function(e){A("Person has been deleted!"),x("error"),setTimeout((function(){A(null),x(null)}),5e3)}))}}else E(n).then((function(e){r(t.concat(e.data)),f(""),O("")})).catch((function(e){x("error"),A(e.response.data.error),setTimeout((function(){A(null),x(null)}),5e3)})),A("".concat(d," added succesfully!")),x("added"),setTimeout((function(){A(null),x(null)}),5e3)}}),l.a.createElement("h2",null,"Numbers"),l.a.createElement(s,{namesToShow:B,removePerson:function(e){window.confirm("Delete ".concat(e.name," ?"))&&(w(e.id).then((function(n){r(t.filter((function(n){return n.id!==e.id})))})),A("Removed succesfully!"),x("added"),setTimeout((function(){A(null),x(null)}),5e3))}}))},j=function(e){var n=e.message,t=e.className;return null===n?null:l.a.createElement("div",{className:t},n)};c.a.render(l.a.createElement(N,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.2416b1a1.chunk.js.map